<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>FactCheck AI</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="normalize.css">
</head>
<body>
<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>CheckAI — Truth Validation</title>
    <link rel="stylesheet" href="style.css" />
</head>
<body>

    <nav class="auth-nav" id="auth-links">
        <a href="login.html" class="auth-link">Login</a>
        <a href="register.html" class="auth-btn">Register</a>
    </nav>



</header>
    <header class="hero" id="home">
    <div class="hero-inner">
        <div class="logo-container">
            <img src="/logo.svg" alt="CheckAI Shield Logo" class="main-logo">
        </div>
        
        <h1 class="site-title">CheckAI</h1>
        <p class="subtitle">A minimalist truth‑validation tool — verify claims, inspect images, or analyze text in seconds.</p>

        <nav class="mode-nav" aria-label="Check modes">
            <a class="nav-btn" href="FactCheck.html">FactCheck</a>
            <a class="nav-btn" href="ImageCheck.html">ImageCheck</a>
            <a class="nav-btn" href="TextCheck.html">TextCheck</a>
        </nav>
    </div>
</header>

    <main>
        <section id="factcheck" class="target-section">
            <h2>FactCheck</h2>
            <p>Placeholder content for FactCheck.</p>
        </section>

        <section id="imagecheck" class="target-section">
            <h2>ImageCheck</h2>
            <p>Placeholder content for ImageCheck.</p>
        </section>

        <section id="textcheck" class="target-section">
            <h2>TextCheck</h2>
            <p>Placeholder content for TextCheck.</p>
        </section>
    </main>
<!doctype html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width,initial-scale=1" />
        <title>CheckAI — Truth Validation</title>
        <link rel="stylesheet" href="style.css" />
        <link rel="stylesheet" href="normalize.css" />
    </head>
<body>

    <header class="hero" id="home">
        <div class="hero-inner">
            <div class="logo-container">
                <img src="logo.svg" alt="CheckAI Shield Logo" class="main-logo">
            </div>

            <h1 class="site-title">CheckAI</h1>
            <p class="subtitle">A minimalist truth‑validation tool — verify claims, inspect images, or analyze text in seconds.</p>

            <nav class="mode-nav" aria-label="Check modes">
                <a class="nav-btn" href="FactCheck.html">FactCheck</a>
                <a class="nav-btn" href="ImageCheck.html">ImageCheck</a>
                <a class="nav-btn" href="TextCheck.html">TextCheck</a>
            </nav>
        </div>
    </header>

    <main>
        <section id="factcheck" class="target-section">
            <h2>FactCheck</h2>
            <p>Placeholder content for FactCheck.</p>
        </section>

        <section id="imagecheck" class="target-section">
            <h2>ImageCheck</h2>
            <p>Placeholder content for ImageCheck.</p>
        </section>

        <section id="textcheck" class="target-section">
            <h2>TextCheck</h2>
            <p>Placeholder content for TextCheck.</p>
        </section>
    </main>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-analytics.js";
        import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-auth.js";

        const firebaseConfig = {
            apiKey: "AIzaSyAcjJD_mRSsjc8BYRbIUitR4_q2WqRQG20",
            authDomain: "checkai-a96c2.firebaseapp.com",
            projectId: "checkai-a96c2",
            storageBucket: "checkai-a96c2.firebasestorage.app",
            messagingSenderId: "902462707340",
            appId: "1:902462707340:web:68d96fe579d9c751530da9",
            measurementId: "G-2E7PRCNSV8"
        };

        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
        const auth = getAuth(app);

        // Ensure DOM ready, add logging, and render auth links safely
        document.addEventListener('DOMContentLoaded', () => {
            console.log('Firebase initialized, setting up auth listener');

            const getAuthLinksEl = () => document.getElementById('auth-links');

            function renderAuthLinksForUser(user){
                const authLinks = getAuthLinksEl();
                if(!authLinks){
                    console.warn('auth-links element not found in DOM');
                    return;
                }

                if(user){
                    const safeEmail = user && user.email ? user.email : 'User';
                    authLinks.innerHTML = `\n                        <span class="welcome">Welcome, ${safeEmail}</span>\n                        <button id="signOutBtn" class="signout-btn">Sign Out</button>\n                    `;
                    const btn = document.getElementById('signOutBtn');
                    if(btn){
                        btn.addEventListener('click', () => signOut(auth).catch(err => { console.error('Sign out failed', err); alert('Sign out failed'); }));
                    }
                } else {
                    authLinks.innerHTML = `\n                        <a href="login.html" class="auth-link">Login</a>\n                        <a href="register.html" class="auth-btn">Register</a>\n                    `;
                }
            }

            // Initial render (in case onAuthStateChanged fires before DOM update)
            renderAuthLinksForUser(null);

            // Listen for auth state changes
            onAuthStateChanged(auth, (user) => {
                console.log('onAuthStateChanged:', user);
                renderAuthLinksForUser(user);
            });

            // Expose a helper for debugging/sign-out from console
            window.signOutUser = async function(){
                try{
                    await signOut(auth);
                    console.log('User signed out via signOutUser()');
                }catch(e){ console.error('signOutUser error', e); alert('Sign out failed'); }
            };
        });
    </script>

</body>
</html>
